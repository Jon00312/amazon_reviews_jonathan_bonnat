# ğŸ§  Amazon Reviews ETL Pipeline - Pipeline Data & NLP OrchestrÃ©

## ğŸ¯ Objectif du projet

Ce projet est la continuitÃ© du Bloc 2 et reprend ses sources pour y ajouter une nouvelle couche.
Il couvre lâ€™ensemble de la chaÃ®ne de valeur data : extraction, stockage multi-couches, transformation, NLP, scoring mÃ©tier et orchestration Airflow.
Il reprend en grande partie l'ETL et a surtout 2 grands intÃ©rÃªts : 
- Traitement NLP en dehors du notebook
- Orchestration complÃ¨te (bien que locale) de la chaine de valeur

Lâ€™objectif pÃ©dagogique est double :
- concevoir une architecture data robuste et rejouable
- dÃ©montrer une capacitÃ© dâ€™industrialisation au-delÃ  dâ€™un simple notebook

---

## ğŸ—ï¸ Architecture globale

Sources & Stockage :
- PostgreSQL : base transactionnelle source
- MongoDB (Bronze) : archivage brut
- AWS S3 (Silver / Gold) : donnÃ©es transformÃ©es

Traitements :
- ETL Python (Pandas)
- NLP Zero-Shot Classification
- Scoring mÃ©tier
- Orchestration Airflow

---

## ğŸ§± Couches Data

Bronze :
- DonnÃ©es brutes extraites
- Une collection MongoDB par table
- RejouabilitÃ©

Silver :
- DonnÃ©es nettoyÃ©es et enrichies
- Gestion des rejets
- Format Parquet

Gold :
- DonnÃ©es NLP enrichies
- Score de pertinence
- PrÃªtes pour BI / ML

---

## ğŸ§  NLP & Scoring

ModÃ¨le :
- facebook/bart-large-mnli

CatÃ©gories :
- product quality
- product defect
- positive experience
- negative experience
- delivery issue
- delivery satisfaction
- price value

Relevance Score :
- Confiance NLP
- Longueur du texte
- IntensitÃ© de la note
- MÃ©tadonnÃ©es (image, abonnement, achat vÃ©rifiÃ©)

---

## â›“ï¸ Orchestration Airflow  

Les identifiants de la partie ETL sont gÃ©rÃ©s avec un fichier .env  
Ceux de la partie Airflow sont gÃ©rÃ©s dans un fichier secrets.env, toujours Ã  remplir selon votre environnement

Ã‰tapes :
1. Extract PostgreSQL
2. Load Bronze MongoDB
3. Transform
4. Load Silver S3
5. NLP Zero-Shot + Scoring
6. Load Gold S3  
![alt text](image.png)

---

## ğŸ³ Infrastructure

- Docker & docker-compose
- PostgreSQL
- MongoDB + Mongo Express
- Airflow (webserver, scheduler)

---

## ğŸ“ Structure

amazon-industry-insights/  
â”œâ”€â”€ dags/  
â”œâ”€â”€ src/  
â”‚   â”œâ”€â”€ etl/  
â”‚   â””â”€â”€ nlp/  
â”œâ”€â”€ config/  
â”œâ”€â”€ shared/  
â”œâ”€â”€ logs/  
â”œâ”€â”€ docker-compose.yml  
â””â”€â”€ README.md  

---

## ğŸš€ Lancement

- docker compose build
- docker exec -it airflow_webserver airflow db init 
- docker compose up -d

Airflow :
http://localhost:8080

---

## ğŸ“Œ Choix techniques

- Pandas vs Spark : prioritÃ© Ã  la logique mÃ©tier
- Zero-Shot NLP : pas de labels requis
- MongoDB Bronze : indÃ©pendance source
- Airflow : industrialisation rÃ©elle

---

## ğŸ”® Ã‰volutions

- Spark
- Kubernetes
- API FastAPI
- ModÃ¨le supervisÃ©
- Dashboard BI

---

## ğŸ‘¨â€ğŸ’» Conclusion

Pipeline complet, industrialisÃ© et orientÃ© mÃ©tier, prÃªt pour des cas rÃ©els.
